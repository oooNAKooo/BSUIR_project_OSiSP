  В каждом файле имеются подробные комментарии к коду. Однако, я добавлю немного теории, дабы разбавить код).

  NTFS (файловая система новой технологии) — это файловая система, разработанная Microsoft для операционных систем Windows NT, включая Windows XP, Windows Vista, Windows 7, Windows 8 и Windows 10. Она предлагает несколько функций и улучшений по сравнению со старой FAT (File Allocation Table) файловой системы, такие как повышенная надежность, безопасность и поддержка больших размеров файлов и разделов.

  Вот некоторые ключевые особенности и характеристики NTFS:

1) Структура файлов и каталогов: NTFS использует иерархическую файловую систему с каталогами (папками) и файлами. Каталоги могут содержать другие каталоги и файлы, что позволяет структурировать данные.

2) Атрибуты файлов: NTFS поддерживает различные атрибуты файлов, в том числе доступные только для чтения, скрытые, системные, сжатые, зашифрованные и разреженные. Эти атрибуты обеспечивают дополнительный контроль над доступом к файлам и управлением ими.

3) Безопасность файлов: NTFS включает встроенные функции безопасности файлов, которые позволяют администраторам устанавливать списки контроля доступа (ACL) для файлов и каталогов. Это обеспечивает детальный контроль над тем, кто может читать, записывать и выполнять файлы, обеспечивая более высокий уровень безопасности.

4) Сжатие файлов: NTFS поддерживает сжатие файлов, что позволяет хранить файлы на диске в сжатом формате. Сжатые файлы занимают меньше места, но доступ к ним может потребовать дополнительных затрат на обработку.

5) Шифрование файлов: NTFS включает возможности шифрования файлов с использованием шифрованной файловой системы (EFS). EFS позволяет пользователям шифровать отдельные файлы или каталоги для защиты своих данных от несанкционированного доступа.

6) Дисковые квоты: NTFS поддерживает дисковые квоты, позволяя администраторам ограничивать объем дискового пространства, которое могут использовать пользователи или группы. Это помогает управлять использованием диска и предотвращает монополизацию дисковых ресурсов отдельными пользователями.

7) Ведение журнала: NTFS использует систему журналирования, которая помогает обеспечить согласованность файловой системы в случае сбоя питания или сбоя системы. Журнал записывает изменения в файловой системе до того, как они будут зафиксированы, что обеспечивает более быстрое восстановление и снижает риск повреждения данных.

8) Поддержка больших носителей: NTFS поддерживает очень большие размеры файлов (до 16 экзабайт) и разделов (до 256 терабайт). Это делает его пригодным для современных устройств хранения данных с большой емкостью.

Теперь о размерах файлов, которые поддерживала система NTFS:

1) Windows XP, Windows Server 2003: В этих версиях максимальный размер файла составляет 16 терабайт (2^44 байта).

2) Windows Vista, Windows Server 2008 и более поздние версии: В этих версиях максимальный размер файла составляет 256 терабайт (2^48 байт). Однако размер файла может быть ограничен ограничениями операционной системы или инструментов файловой системы.

  Немного о шифровании файлов в NTFS:

1) Выбор файлов для шифрования: Пользователь выбирает файлы или папки, которые он хочет зашифровать с использованием EFS.

2) Генерация ключей: При первом шифровании каждого файла EFS генерирует пару ключей: открытый и закрытый ключи. Открытый ключ используется для шифрования данных, а закрытый ключ хранится в защищенном виде на компьютере пользователя.

3) Шифрование файла: Когда пользователь шифрует файл, EFS использует открытый ключ, связанный с его учетной записью, для шифрования содержимого файла. В результате файла становится непонятным и нечитаемым без правильного ключа для расшифровки.

4) Сохранение зашифрованного файла: Зашифрованный файл сохраняется на диске в зашифрованном виде. Он может быть обозначен специальной иконкой или атрибутом, указывающим на его зашифрованный статус.

5) Расшифровка файла: При доступе к зашифрованному файлу EFS автоматически расшифровывает его, используя закрытый ключ, хранящийся в защищенном виде на компьютере пользователя. Таким образом, пользователю предоставляется доступ к оригинальному содержимому файла.

  Теперь поговорим о системе контроля доступа (ACL):

1) Ресурс: Ресурсом может быть любой объект в операционной системе, к которому требуется ограничить доступ, например, файл, папка, принтер и т. д.

2) Субъект: Субъект представляет собой пользователей или группы пользователей, которые запрашивают доступ к ресурсу. Они могут быть локальными пользователями или пользователями из домена в сети.

3) Разрешение: Разрешение определяет тип доступа, который разрешается или запрещается субъекту к ресурсу. Некоторые общие разрешения включают чтение, запись, выполнение, удаление и изменение разрешений.

4) ACL-список: ACL-список представляет собой структуру данных, которая содержит записи (ACE), определяющие разрешения для конкретных субъектов на конкретный ресурс. Каждая запись ACE содержит идентификатор субъекта (SID) и соответствующие разрешения.

5) Роль субъекта: Роль субъекта определяет, какие разрешения применяются, когда субъект пытается получить доступ к ресурсу. Роли, такие как владелец, группа, администратор и т. д., могут иметь различные уровни доступа.

Одна из самых полезных технологий в системе NTFS - журналирование. Основная цель журналирования состоит в том, чтобы гарантировать, что при сбое или отключении питания данные файловой системы останутся в согласованном состоянии и не будут повреждены. Журналирование позволяет восстановить файловую систему после сбоя, применяя незавершенные транзакции, которые были записаны в журнал.

  Отличие NTFS от FAT32:

1) Надежность и устойчивость к сбоям: NTFS обладает более высокой надежностью и устойчивостью к сбоям системы, чем FAT32. NTFS использует журналирование для записи изменений перед фиксацией, что уменьшает риск повреждения данных при сбоях или отключении питания. FAT32 не имеет встроенной поддержки журналирования и более уязвима к потере данных при сбоях.

2) Поддержка размеров дисков и файлов: NTFS поддерживает большие размеры дисков и файлов. Она может работать с разделами размером до 256 терабайт и поддерживает файлы размером до 16 терабайт (в зависимости от версии операционной системы). С другой стороны, FAT32 имеет ограничение в размере файлов в 4 гигабайта и размере раздела в 2 терабайта.

3) Эффективность использования дискового пространства: NTFS более эффективно использует дисковое пространство по сравнению с FAT32. NTFS имеет более мелкий размер кластера, что означает меньшие потери пространства из-за фрагментации файлов. FAT32, с другой стороны, использует более крупные кластеры, что может привести к большим потерям пространства для маленьких файлов.

4) Безопасность: NTFS обеспечивает расширенные возможности безопасности с помощью списков контроля доступа (ACL). С ACL можно управлять правами доступа для файлов и папок на уровне пользователя и группы, обеспечивая более гранулированный контроль над доступом к данным. В FAT32 отсутствует подобная функциональность безопасности.

5) Совместимость с различными операционными системами: FAT32 обладает более широкой совместимостью с различными операционными системами, такими как Windows, macOS и Linux. NTFS, хотя и поддерживается большинством версий Windows, может иметь ограниченную поддержку или требовать сторонних драйверов для полноценной работы на других операционных системах.

  Ну и напоследок, плюсы и минусы файловой системы NTFS:

    Плюсы NTFS:

1) Надежность: NTFS обладает повышенной надежностью и устойчивостью к сбоям. Она использует журналирование для записи изменений перед их фиксацией, что уменьшает риск потери данных при сбоях системы или отключении питания.

2) Безопасность: NTFS предоставляет расширенные возможности безопасности с помощью списков контроля доступа (ACL). С ACL можно управлять правами доступа для файлов и папок на уровне пользователя и группы, обеспечивая более гранулированный контроль над доступом к данным.

3) Поддержка больших размеров: NTFS поддерживает большие размеры дисков и файлов. Она может работать с разделами размером до 256 терабайт и поддерживает файлы размером до 16 терабайт (в зависимости от версии операционной системы).

4) Кэширование и производительность: NTFS имеет эффективные механизмы кэширования и оптимизации, что способствует повышению производительности операций с файлами.

5) Расширенные функции: NTFS обладает рядом расширенных функций, таких как шифрование файлов (с помощью EFS), сжатие файлов, контроль квот на диске и другие. Это позволяет пользователю более эффективно управлять файлами и дисками.

    Минусы NTFS:

1) Ограничение на поддержку других операционных систем: NTFS является проприетарной файловой системой Microsoft и имеет ограниченную поддержку на других операционных системах, особенно на некоторых Linux-дистрибутивах или macOS. Хотя существуют некоторые сторонние драйверы и инструменты для работы с NTFS на других платформах, они не всегда полностью совместимы.

2) Фрагментация: При долгосрочной эксплуатации и неправильной настройке NTFS может возникать фрагментация файлов, что может негативно сказываться на производительности системы. Однако это можно решить регулярным использованием инструментов дефрагментации файловой системы.

3) Ограниченная поддержка некоторых старых технологий: NTFS не поддерживает некоторые устаревшие технологии, такие как файловые имена с использованием 8.3 формата, который был характерен для файловых систем FAT.

  В целом, NTFS является надежной и функциональной файловой системой с расширенными возможностями безопасности и поддержкой больших размеров. Однако она может быть неидеальной для некоторых ситуаций, особенно если требуется максимальная совместимость с другими операционными системами или использование устаревших технологий.

P.s.: скинул все, что было, кроме папки с кэшом, который никому не нужен.
